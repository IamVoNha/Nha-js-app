let pokemonRepository=function(){let e=document.querySelector(".list-group"),t=document.querySelector(".modal-content"),n=document.createElement("h1");n.classList.add("Pokename");let o=document.createElement("p");o.classList.add("Pokeweight");let i=document.createElement("p");i.classList.add("Pokeheight");let a=document.createElement("div");a.classList.add("img-container");let l=document.createElement("img");l.classList.add("PokeImage");let r=document.createElement("p");r.classList.add("Poketype");let c=[],d="https://pokeapi.co/api/v2/pokemon/?limit=151";function s(e){"object"==typeof e&&"name"in e?c.push(e):console.log("wrong format")}function p(e){u(e).then(function(){let t=document.querySelector(".modal-body"),a=document.querySelector(".modal-title");t.innerHTML="",a.innerHTML="",n.innerHTML=e.name.toUpperCase(),o.innerHTML="weight "+e.weight,i.innerHTML="Height: "+e.height,r.innerHTML="Type: "+e.types.toUpperCase(),l.src=e.imageUrl})}function u(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.weight=t.weight,e.height=t.height,e.types=t.types[0].type.name}).catch(function(e){console.error(e)})}return t.appendChild(n),t.appendChild(a),t.appendChild(l),t.appendChild(o),t.appendChild(i),t.appendChild(r),{add:s,getAll:function(){return c},addListItem:function(t){let n=document.createElement("li");n.classList.add("group-list-item");let o=document.createElement("button");o.innerHTML=t.name.toUpperCase(),o.type="button",o.classList.add("btn"),o.classList.add("btn-primary"),o.dataset.toggle="modal",o.dataset.target="#pokemon-modal",e.appendChild(n),n.appendChild(o),o.addEventListener("click",function(){p(t)})},showDetails:p,loadList:function(){return fetch(d).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){s({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDeatails:u,search:function(){let e=document.querySelector("#search-bar");e.addEventListener("input",function(){let t=document.querySelectorAll(".group-list-item"),n=e.value.toLowerCase();t.forEach(function(e){e.innerText.toLowerCase().indexOf(n)>-1?e.style.display="":e.style.display="none"})})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e),pokemonRepository.search()})});
